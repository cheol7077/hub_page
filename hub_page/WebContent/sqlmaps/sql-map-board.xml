<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.rog//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board.dao.BoardDAO">
	<select id="getBoardList" parameterType="map" resultType="board.vo.BoardVO">
		SELECT *
		FROM commu
		WHERE date >= date_add(now(), interval-#{time} HOUR)
		ORDER BY #{order} desc
		LIMIT #{index}, 10
	</select>

	<select id="getBoardSearch" parameterType="map" resultType="board.vo.BoardVO">
		select *
		from commu
		<if test="searchOption.equals('titleSearch') ">
		where title like CONCAT('%',#{searchKeyword},'%')
		</if>
		
		<if test="searchOption.equals('contentSearch')">
		where content like CONCAT('%',#{searchKeyword},'%')
		</if>
		
		<if test="searchOption.equals('titleContentSearch')">
		where title like CONCAT('%',#{searchKeyword},'%') || content like CONCAT('%',#{searchKeyword},'%')
		</if>		
	</select>
	
</mapper>